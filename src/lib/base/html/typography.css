/**
 * @file HTML Typography
 * @description Headings, paragraphs, links, and inline text elements.
 */

/* Headings: Map to --t (Title) variables */
:where(h1, h2, h3, h4, h5, h6) {
    color: var(--t, currentColor);
    font-family: var(--t-font-fam, inherit);
    font-weight: var(--t-fw--m, 700);
    line-height: var(--t-lh, 1.1);
    text-wrap: var(--t-tw, balance);

    /* Remove default margins, handled by flow */
    margin-block: 0;
}

/* Specific Sizes */
:where(h1) {
    font-size: var(--heading-font-size, var(--h1-fs, var(--h-fs, var(--h-fs--xl, var(--t-fs, var(--t-fs--s, 2.625rem))))));
}

:where(h2) {
    font-size: var(--heading-font-size, var(--h2-fs, var(--h-fs, var(--h-fs--l, var(--t-fs, var(--t-fs--xs, 2.25rem))))));
}

:where(h3) {
    font-size: var(--heading-font-size, var(--h3-fs, var(--h-fs, var(--h-fs--m, var(--t-fs, var(--t-fs--xxs, 2rem))))));
}

:where(h4) {
    font-size: var(--heading-font-size, var(--h4-fs, var(--h-fs, var(--h-fs--s, var(--t-fs, var(--t-fs--xxxs, 1.75rem))))));
}

:where(h5) {
    font-size: var(--heading-font-size, var(--h5-fs, var(--h-fs, var(--h-fs--xs, var(--t-fs, var(--tx-fs--xxl, 1.625rem))))));
}

:where(h6) {
    font-size: var(--heading-font-size, var(--h6-fs, var(--h-fs, var(--h-fs--xxs, var(--t-fs, var(--tx-fs--xl, 1.4375rem))))));
}

/* Paragraphs & Text */
:where(p) {
    font-size: var(--paragraph-font-size, var(--p-fs, var(--tx-fs, var(--tx-fs--s, 1rem))));
    margin-block: 0;
    max-width: var(--flow-max-width, 65ch);
}

:where(small) {
    font-size: var(--small-font-size, var(--tx-fs--xs, 0.875em));
}

:where(b, strong) {
    font-weight: 700;
    color: var(--t, currentColor);
}

/* Inline Code */
:where(code, kbd, samp) {
    font-family: var(--mono-font, monospace);
    font-size: var(--code-fs, 0.875em);
    padding: var(--code-pd, 0.1em 0.3em);
    border-radius: var(--code-rad, var(--rad--xs, 0.25em));
    color: var(--code-tx, var(--bg-bd, var(--base-bd, #ececec)));
    background-color: var(--code-bg, var(--og-lt, hsl(0 0% 50% / .32)));
}

/* Preformatted blocks */
:where(pre) {
    --set-c: var(--l, #f5f5f5);
    color: var(--pre-tx, var(--set-c, var(--l, #f5f5f5)));
    --set-bg: var(--d-bd, #0a0a0a);
    background-color: var(--pre-bg, var(--set-bg, var(--d-bd, #0a0a0a)));
    padding: var(--pre-pd, var(--gap, 1.5rem));
    border-radius: var(--rad--xs, 0.5rem);
    overflow-x: auto;
    font-family: var(--mono-font, monospace);
    font-size: var(--pre-fs, 0.875em);
    line-height: var(--pre-lh, 1.375em);
    /* Margin handled by Smart Flow */
    margin-block: 0;
}

:where(pre) :where(code, kbd, samp) {
    --set-c: var(--l, #f5f5f5);
    color: var(--pre-tx, var(--set-c, var(--l, #f5f5f5)));
}

:where(hr) {
    border: none;
    border-block-start: var(--hr-h, 1px) solid var(--hr-c, var(--og-lt, hsl(0 0% 50% / .32)));
    --mg: var(--hr-m, 2.5rem);
    --mgb: var(--mg);
    margin-block: var(--mgb, var(--mg, var(--hr-m, 2.5rem)));
}

:where(blockquote) {
    --set-bc: var(--out-p, var(--p, currentColor));
    border-inline-start: var(--bq-bd-w, calc(var(--border-width, .125rem) * 2)) solid var(--bq-bd-c, var(--set-bc, var(--out-p, var(--p, currentColor))));
    margin-inline: 0;
    padding-inline: var(--bq-pdi, 1.5em);
    padding-block: var(--bq-pdb, .5em);
    font-style: italic;
    color: var(--bq-tx, var(--set-c, var(--alt-bd, var(--on-srf, var(--tx, currentColor)))));
    --set-bg: var(--op-lt, var(--oter, var(--ontf, hsl(43 83% 62% / .32))));
    background-color: var(--bq-bg, var(--set-bg));
    /* Margin handled by Smart Flow */
    margin-block: 0;
}

/* Links */
:where(a) {
    color: var(--link, var(--lnk, var(--p, var(--t, currentColor))));
    background-color: var(--link-bg, var(--lnk-bg, transparent));
    text-decoration: var(--link-text-decoration, var(--lnk-td, underline));
    text-decoration-thickness: var(--link-text-decoration-thickness, var(--lnk-td-t, var(--bd-w, 1px)));
    text-underline-offset: var(--link-text-decoration-offset, var(--lnk-td-o, 0.125em));
    transition: var(--lnk-trans, var(--trans-d, 0.16s) ease-in-out);
    transition-property: var(--lnk-trans-p, color, text-decoration-color, opacity);
    opacity: var(--link-opacity, var(--lnk-op, 1));
}

:where(a:focus-visible) {
    outline: var(--link-focus-ring, 0.125rem solid var(--p, currentColor));
    outline-offset: var(--link-focus-offset, 0.125rem);
    text-decoration: none;
    border-radius: var(--link-focus-radius, var(--rad--xs, 0.125em));
}

:where(a:hover) {
    color: var(--link-hover, var(--lnk-hover, var(--set-a, var(--a, #eec14c))));
    background-color: var(--link-bg-hover, var(--lnk-bg-hover, transparent));
    text-decoration: var(--link-text-decoration-hover, var(--lnk-td-hover, underline));
    opacity: var(--link-opacity-hover, var(--lnk-op-hover, var(--set-lnk-op-hover, var(--lnk-op-hover, 1))));

    >* {
        color: inherit;
    }
}

:where(pre, code, kbd, samp, blockquote, table, td) :where(a:hover) {
    --lnk-hover: var(--set-a, var(--alt-bd, var(--contrast, #000)));
    color: var(--bq-link-hover, var(--set-link-hover, var(--lnk-hover, var(--t, var(--alt-bd, var(--contrast, #000))))));
    opacity: var(--bq-link-opacity-hover, var(--set-link-op-hover, var(--lnk-op-active, 1)));
}

/* Selection Color */
::selection {
    background-color: var(--selection-bg, var(--p, #eec14c));
    color: var(--selection-text-color, var(--on-a, var(--on-p, var(--d-bd, #000))));
}