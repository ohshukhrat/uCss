/**
 * @file Grid Subgrid
 * @description Smart Grid logic (.sg, .sgc) allowing nested grids to align with parent tracks.
 */

:where(.sg, .sgc) {
    display: var(--subgrid-d, var(--sg-d, grid));
}

:where(.sg) {
    --g-row-gap: var(--g-g, clamp(1rem, 0.382vw + 0.924rem, 1.25rem));
    grid-template-rows: var(--sg-rows-template--fallback--sm, var(--sg-rows-template--fallback, auto));

    @container (669.99px <=width <=999.99px) {
        display: var(--sg-d--md, var(--sg-d, grid));
        grid-template-rows: var(--sg-rows-template--md--fallback, var(--sg-rows-template--fallback, auto));
    }

    @container (width > 999.99px) {
        display: var(--sg-d--lg, var(--sg-d, grid));
        grid-template-rows: var(--sg-rows-template--lg--fallback, var(--sg-rows-template--fallback, auto));
    }
}

@supports (grid-template-rows: subgrid) {
    :where(.sg) {
        grid-template-rows: var(--sg-rows-template--sm, var(--sg-rows-template, subgrid));

        @container (669.99px <=width <=999.99px) {
            grid-template-rows: var(--sg-rows-template--md, var(--sg-rows-template, subgrid));
        }

        @container (width > 999.99px) {
            grid-template-rows: var(--sg-rows-template--lg, var(--sg-rows-template, subgrid));
        }
    }
}

:where(.sgc) {
    --g-col-gap: var(--g-g, clamp(1rem, 0.382vw + 0.924rem, 1.25rem));
    grid-template-columns: var(--sg-cols-template--fallback--sm, var(--sg-cols-template--fallback, auto));

    @container (669.99px <=width <=999.99px) {
        display: var(--sg-d--md, var(--sg-d, grid));
        grid-template-columns: var(--sg-cols-template--md--fallback, var(--sg-cols-template--fallback, auto));
    }

    @container (width > 999.99px) {
        display: var(--sg-d--lg, var(--sg-d, grid));
        grid-template-columns: var(--sg-cols-template--lg--fallback, var(--sg-cols-template--fallback, auto));
    }

    @container (width > 999.99px) {
        display: var(--sg-d--lg, var(--sg-d, grid));
        grid-template-columns: var(--sg-cols-template--lg--fallback, var(--sg-cols-template--fallback, auto));
    }
}

@supports (grid-template-columns: subgrid) {
    :where(.sgc) {
        grid-template-columns: var(--sg-cols-template--sm, var(--sg-cols-template, subgrid));

        @container (669.99px <=width <=999.99px) {
            grid-template-columns: var(--sg-cols-template--md, var(--sg-cols-template, subgrid));
        }

        @container (width > 999.99px) {
            grid-template-columns: var(--sg-cols-template--lg, var(--sg-cols-template, subgrid));
        }
    }
}