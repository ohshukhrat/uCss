/**
 * @file Margin Utilities
 * @description Responsive margin system using CSS logical properties.
 * Supports fluid scaling via container queries using --mg* variables.
 * 
 * @usage
 * classes: .mg (all), .mgb (block), .mgi (inline), .mgbs (block-start), .mgie (inline-end). etc.
 * variables: --mg, --mgb, --mgbs, --mgi, --mgie, --mg--sm, --mg--md, --mg--lg, etc.
 */

/**
 * @group BMargin block
 * Controls margin-block.
 * Fallback chain: mgbs -> mgb -> mg
 */
:where(.mg, .mgb, .mgbs, .mgbe) {
    /* Default margin */
    --margin: 0;
    margin: var(--margin);
    /* Margin Single Value */
    --mg: var(--margin);
    --mg--sm: var(--mg);
    /* Margin Block */
    --mgb: var(--mg--sm);
    --mgb--sm: var(--mgb);
    /* Margin Block Start */
    --mgbs: var(--mgb--sm);
    --mgbs--sm: var(--mgbs);
    /* Margin Block End */
    --mgbe: var(--mg--sm);
    --mgbe--sm: var(--mgbe);
    /* Chained Declaration (for ease of computation) */
    margin-block:
        var(--mgbs--sm, var(--mgbs, var(--mgb--sm, var(--mgb, var(--mg--sm, var(--mg)))))) var(--mgbe--sm, var(--mgbe, var(--mgb--sm, var(--mgb, var(--mg--sm, var(--mg))))));

    @container (669.99px <=width <=999.99px) {
        --mg--md: var(--mg);
        --mgb: var(--mg--md);
        --mgb--md: var(--mgb);
        --mgbs: var(--mgb--md);
        --mgbs--md: var(--mgbs);
        --mgbe: var(--mg--md);
        --mgbe--md: var(--mgbe);
        margin-block:
            var(--mgbs--md, var(--mgbs, var(--mgb--md, var(--mgb, var(--mg--md, var(--mg)))))) var(--mgbe--md, var(--mgbe, var(--mgb--md, var(--mgb, var(--mg--md, var(--mg))))));
    }

    @container (width >999.99px) {
        --mg--lg: var(--mg);
        --mgb: var(--mg--lg);
        --mgb--lg: var(--mgb);
        --mgbs: var(--mgb--lg);
        --mgbs--lg: var(--mgbs);
        --mgbe: var(--mg--lg);
        --mgbe--lg: var(--mgbe);
        margin-block:
            var(--mgbs--lg, var(--mgbs, var(--mgb--lg, var(--mgb, var(--mg--lg, var(--mg)))))) var(--mgbe--lg, var(--mgbe, var(--mgb--lg, var(--mgb, var(--mg--lg, var(--mg))))));
    }
}

:where(.mg, .mgi, .mgis, .mgie) {
    /* Margin Single Value */
    --mg: var(--margin);
    --mg--sm: var(--mg);
    /* Margin Inline */
    --mgi: var(--mg--sm);
    --mgi--sm: var(--mgi);
    /* Margin Inline Start */
    --mgis: var(--mgi--sm);
    --mgis--sm: var(--mgis);
    /* Margin Inline End */
    --mgie: var(--mg--sm);
    --mgie--sm: var(--mgie);
    /* Chained Declaration (for ease of computation) */
    margin-inline:
        var(--mgis--sm, var(--mgis, var(--mgi--sm, var(--mgi, var(--mg--sm, var(--mg)))))) var(--mgie--sm, var(--mgie, var(--mgi--sm, var(--mgi, var(--mg--sm, var(--mg))))));

    @container (669.99px <=width <=999.99px) {
        --mg--md: var(--mg);
        --mgi: var(--mg--md);
        --mgi--md: var(--mgi);
        --mgis: var(--mgi--md);
        --mgis--md: var(--mgis);
        --mgie: var(--mg--md);
        --mgie--md: var(--mgie);
        margin-inline:
            var(--mgis--md, var(--mgis, var(--mgi--md, var(--mgi, var(--mg--md, var(--mg)))))) var(--mgie--md, var(--mgie, var(--mgi--md, var(--mgi, var(--mg--md, var(--mg))))));
    }

    @container (width >999.99px) {
        --mg--lg: var(--mg);
        --mgi: var(--mg--lg);
        --mgi--lg: var(--mgi);
        --mgis: var(--mgi--lg);
        --mgis--lg: var(--mgis);
        --mgie: var(--mg--lg);
        --mgie--lg: var(--mgie);
        margin-inline:
            var(--mgis--lg, var(--mgis, var(--mgi--lg, var(--mgi, var(--mg--lg, var(--mg)))))) var(--mgie--lg, var(--mgie, var(--mgi--lg, var(--mgi, var(--mg--lg, var(--mg))))));
    }
}

/**
 * @group Auto Margins
 * Sets margin to 'auto' for centering or alignment.
 * Use .auto modifier on any directional class.
 */
:where(.mg.auto) {
    --mg: auto;
}

:where(.mgb.auto) {
    --mgb: auto;
}

:where(.mgbs.auto) {
    --mgbs: auto;
}

:where(.mgbe.auto) {
    --mgbe: auto;
}

:where(.mgi.auto) {
    --mgi: auto;
}

:where(.mgis.auto) {
    --mgis: auto;
}

:where(.mgie.auto) {
    --mgie: auto;
}



/**
 * @group Block Margin Presets
 * Fluid margin sizes using clamp() for responsiveness.
 * mapped to --sp--* (spacing) variables from root.css
 */
:where(.mgb.xxxl, .mgb--xxxl, .mgb--3xl) {
    --mgb: var(--mg--xxxl, var(--sp--xxxl, clamp(6rem, 3.059vw + 5.388rem, 8rem)));
}

:where(.mgb.xxl, .mgb--xxl, .mgb--2xl) {
    --mgb: var(--mg--xxl, var(--sp--xxl, clamp(4rem, 3.059vw + 3.388rem, 6rem)));
}

:where(.mgb.xl, .mgb--xl, .mgb--lg) {
    --mgb: var(--mg--xl, var(--sp--xl, clamp(3rem, 1.53vw + 2.694rem, 4rem)));
}

:where(.mgb.l, .mgb--l) {
    --mgb: var(--mg--l, var(--sp--l, clamp(2.5rem, 0.765vw + 2.347rem, 3rem)));
}

:where(.mgb.m, .mgb--m, .mg.m, .mg--m) {
    --mgb: var(--mg--m, var(--sp--m, clamp(2rem, 0.765vw + 1.847rem, 2.5rem)));
}

:where(.mgb.s, .mgb--s, .mg.s, .mg--s) {
    --mgb: var(--mg--s, var(--sp--s, clamp(1.5rem, 0.765vw + 1.347rem, 2rem)));
}

:where(.mgb.xs, .mgb--xs, .mg.xs, .mg--xs) {
    --mgb: var(--mg--xs, var(--sp--xs, clamp(1.25rem, 0.382vw + 1.174rem, 1.5rem)));
}

:where(.mgb.xxs, .mgb--xxs, .mgb--2xs, .mg.xxs, .mg--xxs, .mg--2xs) {
    --mgb: var(--mg--xxs, var(--sp--xxs, clamp(1rem, 0.382vw + 0.924rem, 1.25rem)));
}

/**
 * @group Inline Margin Presets
 * Percentage based sizes for main containers, fluid for details.
 * mapped to --spe--* (spacing edge) variables from root.css
 */
:where(.mgi.xxl, .mgi--xxl, .mgi--2xl) {
    --mgi: var(--mgw--l, var(--spe--l, 7%));
}

:where(.mgi.xl, .mgi--xl) {
    --mgi: var(--mgw--m, var(--spe--m, 5%));
}

:where(.mgi.l, .mgi--l) {
    --mgi: var(--mgw--s, var(--spe--s, 3%));
}

:where(.mgi.m, .mgi--m, .mg.m, .mg--m) {
    --mgi: var(--mg--m, var(--sp--m, clamp(2rem, 0.765vw + 1.847rem, 2.5rem)));
}

:where(.mgi.s, .mgi--s, .mg.s, .mg--s) {
    --mgi: var(--mg--s, var(--sp--s, clamp(1.5rem, 0.765vw + 1.347rem, 2rem)));
}

:where(.mgi.xs, .mgi--xs, .mg.xs, .mg--xs) {
    --mgi: var(--mg--xs, var(--sp--xs, clamp(1.25rem, 0.382vw + 1.174rem, 1.5rem)));
}

:where(.mgi.xxs, .mgi--xxs, .mgi--2xs, .mg.xxs, .mg--xxs, .mg--2xs) {
    --mgi: var(--mg--xxs, var(--sp--xxs, clamp(1rem, 0.382vw + 0.924rem, 1.25rem)));
}

/**
 * @group Overall Margin Presets (mg)
 * Affects both block and inline margin.
 */
:where(.mg.l, .mg--l) {
    --mg: var(--mg--l, var(--sp--l, clamp(2.5rem, 0.765vw + 2.347rem, 3rem)));
}

:where(.mg.xl, .mg--xl) {
    --mg: var(--mg--xl, var(--sp--xl, clamp(3rem, 1.53vw + 2.694rem, 4rem)));
}

:where(.mg.xxl, .mg--xxl, .mg--2xl) {
    --mg: var(--mg--xxl, var(--sp--xxl, clamp(4rem, 3.059vw + 3.388rem, 6rem)));
}